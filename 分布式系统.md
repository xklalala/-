## 分布式系统有以下基本特征：

并发性：分布式系统中包含多个并发的进程或者线程。

缺乏全局时钟：分布式系统中的各个节点都有自己的时钟，而这些时钟彼此之间没有统一的时间参照系。

独立故障：分布式系统中的各个节点相互独立，一个节点的故障不会影响到其他节点。

通信延迟：分布式系统中的各个节点之间通信需要通过网络进行，因此存在通信延迟。

不确定性：由于分布式系统中节点之间的通信存在延迟和故障等因素，系统中的数据和状态随时都可能发生变化，因此系统的状态是不确定的。

可扩展性：分布式系统可以通过增加节点的方式扩展系统的性能和容量。

容错性：分布式系统可以通过冗余备份和自动恢复等机制来保证系统的容错性。

总的来说，分布式系统是一个由多个独立节点组成的、相互协作的系统，它们通过网络进行通信和协调，具有高并发性、缺乏全局时钟、独立故障、通信延迟、不确定性、可扩展性和容错性等基本特征。

## CAP理论指的是在分布式系统中，一致性（Consistency）、可用性（Availability）和分区容错性（Partition Tolerance）这三个特性不可同时满足，只能保证其中的两个特性同时成立。

一致性（Consistency）：在任何时间，无论客户端请求哪个节点，系统都能返回最新的数据或者错误信息。
可用性（Availability）：在任何时间，客户端都能得到服务器响应，且响应时间在可接受范围内。
分区容错性（Partition Tolerance）：系统能够处理网络分区带来的不可避免的故障。
CAP理论指出，分布式系统中最多只能满足其中的两个特性，无法同时满足三个特性，因为网络分区不可避免，分区容错性是必须的，而一致性和可用性是互相矛盾的。在网络分区发生时，系统必须要选择是保证一致性还是保证可用性。

在实际应用中，需要根据业务场景和需求来选择满足哪些特性。例如，对于金融系统等对数据一致性要求非常高的场景，可以选择满足一致性和分区容错性，而对于搜索引擎等对数据实时性要求比较高的场景，可以选择满足可用性和分区容错性。

### 一致性
在分布式系统中，一致性（Consistency）指的是对于一个更新操作，所有的节点都应该最终达成一致的状态。具体来说，一致性要求所有节点在对数据的更新操作之后，都能够读取到最新的数据。

分布式系统中的一致性有很多种模式，包括强一致性（Strong Consistency）、弱一致性（Weak Consistency）、最终一致性（Eventual Consistency）等。强一致性要求所有节点都必须同步一致，弱一致性则容许一段时间内数据可能不一致，最终一致性则是通过一定的机制最终将数据达成一致。

在设计分布式系统时，需要根据具体的业务需求和系统特点来选择合适的一致性模式。比如，对于金融系统等对数据一致性要求极高的应用，通常会选择强一致性；对于社交网络等数据可延迟的应用，可以选择最终一致性。

### 可用性
在 CAP 理论中，可用性（Availability）指的是分布式系统能够在正常情况下继续响应请求的能力。在 CAP 理论中，可用性通常被定义为系统至少能够返回一个非错误的响应，即使系统的某些节点失败或者无法响应。

在分布式系统中，可用性通常是一个非常重要的指标，因为用户往往期望系统能够始终处于可用状态，而且在出现故障时能够尽可能地快速恢复。为了提高系统的可用性，分布式系统通常采用多副本技术，通过在不同节点上存储相同数据的多个副本，使得即使某个节点出现故障，系统仍然可以从其他节点获取到相同的数据。

然而，在 CAP 理论中，可用性和一致性是互相矛盾的，因为在某些情况下，为了保证系统的一致性，需要暂时牺牲可用性。比如在一个分布式系统中，如果某个节点失去联系，而其他节点发现这个节点的数据已经过期，这时为了保证系统的一致性，系统可能需要暂停对这个节点的访问，直到数据同步完成。在这种情况下，虽然系统的一致性得到了保证，但是可用性会受到影响。

因此，在设计分布式系统时，需要在可用性、一致性和分区容错性之间做出权衡，选择合适的策略来满足不同的需求。

### 分区容错性
分区容错性（Partition Tolerance，简称PT）是指分布式系统在遇到网络分区（network partition）时仍然能够正常运行。网络分区是指一个分布式系统中的节点之间的网络连接发生了异常，导致节点之间无法正常通信，而且这种异常是暂时性的，即节点之间的连接会在一段时间后重新恢复。

分区容错性是 CAP 理论中的一项基本特征，意味着在一个分布式系统中，当网络发生异常导致节点之间无法通信时，系统应该能够保持正常的工作状态，而不会出现系统崩溃或数据丢失等严重后果。

为了保证分区容错性，分布式系统通常采用数据复制和分片等技术来分散数据和负载，并在不同的地理位置部署多个节点，使得在某个区域的网络发生异常时，其它区域的节点能够继续提供服务。同时，在设计分布式系统时，也需要考虑如何处理网络分区对数据一致性和可用性的影响。

### base理论
CAP Base理论是对CAP理论的一个扩展和补充，提出了更加实际的分布式系统设计原则。它的全称是：Consistency-Availability-Partition tolerance Basic Availability, Soft state, Eventual consistency。相比于CAP理论，它更注重实际应用，更加具体和实用。

CAP Base理论认为，分布式系统应该首先保证Basic Availability（基本可用性），即尽可能地保证系统能够正常工作，能够处理客户端的请求。在保证基本可用性的前提下，尽可能地提高系统的一致性和可用性。因此，CAP Base理论认为，分布式系统的设计应该从以下三个方面入手：

1. Basic Availability：系统必须具备基本的可用性，即能够正常工作，处理客户端的请求。

2. Soft state：分布式系统中的状态可能会出现短暂的不一致，但最终会达到一致状态。

3. Eventual consistency：系统保证最终状态的一致性，但在某一时刻可能出现短暂的不一致。

与CAP理论相比，CAP Base理论更加具有实际意义，也更加灵活和实用。它的设计原则能够帮助开发者更好地设计分布式系统，同时在实际应用中，可以根据具体情况进行权衡和选择，以达到最佳的系统性能和用户体验。

## 其它资料
CAP 和 BASE 理论 https://mp.weixin.qq.com/s/NMviw9VhV-3jxgq7E1stHw